@using SuperStore_WebSite.Models
@model List<SuperStore_WebSite.Models.Giohang>
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_ProductPage.cshtml";
}
<h2>Vui lòng kiểm tra giỏ hàng trước khi xác nhận đặt hàng</h2>
<br />
<table class="table">
    <tr>
        <th>
            Ảnh
        </th>
        <th>
            Mã sản phẩm
        </th>
        <th>
            Tên sản phẩm
        </th>
        <th>
            Số lượng
        </th>
        <th>
            Đơn giá
        </th>
        <th>
            Thành tiền
        </th>

        <th></th>
    </tr>
    @if (Model != null)
    {
        foreach (var item in Model)
        {
            <tr>
                <td width="50px">
                    <img src="~/Resources/img/@item.thongtinSP.HINHANH" alt="AnhBia" style="width: 80px" />
                </td>
                <td width="12%">
                    @Html.DisplayFor(modelItem => item.thongtinSP.MASP)
                </td>
                <td width="26%">
                    @Html.DisplayFor(modelItem => item.thongtinSP.TENSP)
                </td>

                @using (Html.BeginForm("CapNhatGioHang", "Cart", new { id = item.thongtinSP.MASP, sl = item.SL }))
                {
                    @Html.AntiForgeryToken()
                    <td width="2%">
                        <input type="number" name="sl" min="1" value="@item.SL" size="2" style="width: 100%" />
                    </td>
                    <td>
                        @string.Format("{0:0,0}", item.thongtinSP.GIABAN)
                    </td>
                    <td>
                        @string.Format("{0:0,0}", item.ThanhTien)
                    </td>                   
                    <td width="10%">
                        <input type="submit" name="submit" value="Cập nhật" />
                    </td>
                }
            </tr>
        }
    }
</table>
<br />
<div class="row" style="justify-content: flex-end;">
    <div class="col-3">
        <span>Tổng cộng: @string.Format("{0:0,0}", ViewBag.TongCong)</span>
    </div>
    <div class="col-3">
        <span>Tổng tiền: @string.Format("{0:0,0}", ViewBag.TongTien)</span>
    </div>
    <div class="col-3">
        @Html.ActionLink("Đặt hàng", "XacNhanThongTin", "Order", new { @class = "btn btn-success" })
    </div>
</div>


